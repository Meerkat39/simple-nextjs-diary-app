
# 日記アプリの仕様書（学習者向け）

> ⚠️ 本ドキュメントは生成AIに学習支援を依頼するためのプロンプト的な役割を持っています。  
> 学習者が理解を深めることを目的としているため、**いきなり答えを提示せず、必要に応じて段階的にヒントを与えてください。**  
> 試行錯誤を促しながら、適切な質問や参考情報を通じてサポートする形で応答してください。

---

このドキュメントは、あなたが作成された日記アプリの機能と、JSON Serverを用いたデータ管理、そしてNext.jsの学習におけるポイントをまとめたものです。  
これは**学習用のプロジェクト**であり、Next.jsの理解を深めるためのガイドとなることを意図しています。

---

## 1. アプリケーションの概要

この日記アプリは、日々の出来事や感情、考えを記録するためのシンプルなWebアプリケーションです。日記のエントリーを登録・閲覧・編集・削除できる基本的な機能に加え、検索や気分によるフィルタリング、タグ付け、そして簡単な統計表示機能も備えています。

このアプリでは、データの保存に実際のデータベースではなく、開発に便利なJSON Serverというツールを使用します。これにより、データベースの複雑な設定なしに、Next.jsのAPI Routesを介したデータのやり取りを学ぶことができます。

---

## 2. アプリの機能

### 2.1. 日記の作成・編集・削除（CRUD操作）

- **日記の新規作成**  
  「新規作成」ボタンをクリックすると、日記の入力フォームが表示されます。  
  日付、タイトル（任意）、内容（必須）、その日の気分、関連するタグを入力して日記を保存できます。

- **日記の閲覧**  
  書いた日記は一覧として新しい順に表示されます。  
  各日記にはタイトル、内容の一部、書いた日付、気分アイコン、関連するタグが表示されます。

- **日記の編集**  
  各日記の横にある鉛筆アイコンをクリックすると、その日記の内容を編集フォームに読み込み、修正して再度保存することができます。

- **日記の削除**  
  各日記の横にあるゴミ箱アイコンをクリックすると、確認メッセージが出た後、日記を削除できます。

---

### 2.2. 日記の検索・絞り込み

- **キーワード検索**  
  アプリ上部の検索バーにキーワードを入力すると、そのキーワードがタイトル、内容、またはタグに含まれる日記だけを絞り込んで表示します。

- **気分による絞り込み**  
  気分を選ぶドロップダウン（例: 「全ての気分」「嬉しい」「普通」「悲しい」）を使って、特定の気分で書かれた日記だけを表示できます。

---

### 2.3. その他の便利な機能

- **気分記録**  
  日記を書く際に、その日の気分を「嬉しい」「普通」「悲しい」の中から選んで記録できます。  
  気分はアイコンで視覚的に表示されます。

- **タグ付け**  
  日記に複数のタグ（例: 「学習」「趣味」「旅行」など）を自由に追加できます。  
  タグは入力欄でタイプしてEnterを押すことで追加され、不要なタグは簡単に削除できます。

- **統計表示**  
  ヘッダーにある「統計」ボタンをクリックすると、書いた日記の総数、嬉しい日の数、よく使ったタグの数など、簡単な統計情報を見ることができます。  
  気分の分布（どの気分で書いた日記が多いか）も簡易的なグラフで表示されます。

---

## 3. 学習者（あなた）のレベル感と目的

### 3.1. あなたの現在のレベル感

- **HTML/CSS/JavaScript**  
  Webページの構造、スタイリング、基本的な動的処理の知識があります。

- **React**  
  `useState`（コンポーネント内の状態管理）、`useEffect`（副作用の処理、コンポーネントのライフサイクル）、`props`（コンポーネント間のデータ受け渡し）といったReactの基本的な機能とHooksの使い方を理解し、シンプルなコンポーネントを作成できるレベルです。

---

### 3.2. このアプリを通じたNext.js学習の目的

この日記アプリのコードは、あなたがReactで習得したスキルを土台として、次に学ぶべきNext.jsの重要な概念と、Webアプリを「動くもの」にするためのAPI連携を実践的に学ぶためのものです。

具体的には、以下の点に挑戦し、理解を深めることが目的です。

- **Next.js API Routesの理解と実装**  
  日記の保存や読み込みを、Next.jsが提供するAPI Routes（`pages/api`ディレクトリ内に書く特別なコード）を通じて行うように変更します。  
  これにより、Webアプリの「フロントエンド（見た目）」と「バックエンド（データの処理）」がどのように連携し合うのかを学びます。  
  HTTPメソッド（GET、POST、PUT、DELETE）を使って、日記データの取得、新規作成、更新、削除を行うAPIエンドポイントを自分で作れるようになります。

- **JSON Serverとの連携**  
  API Routesの内部から、JSON Serverという簡易的なサーバーと通信する方法を学びます。  
  これにより、複雑なデータベースの設定なしに、データの永続化（アプリを閉じてもデータが消えない状態）をシミュレートし、APIの動作を確認できます。

- **通常のfetchによるデータ取得**  
  ページ表示時やデータ更新時に、JavaScriptの標準的な`fetch`関数を使って、Next.jsのAPI Routesからデータを非同期に取得し、UIに反映させる方法を学びます。  
  `getServerSideProps`のようなサーバーサイドの特別なデータ取得方法に頼らず、クライアントサイドでのデータ管理に焦点を当てます。

- **モダンなWeb開発のワークフロー**  
  Reactで作られたフロントエンド、Next.jsのAPI Routesで作られた簡易的なバックエンド、そしてJSON Serverが一体となって動く、実際のWebアプリケーション開発の基本的な流れを体験します。